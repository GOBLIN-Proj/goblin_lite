<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>goblin_lite.goblin &mdash; GOBLIN lite 0.1.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            GOBLIN lite
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GOBLIN lite</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">goblin_lite.goblin</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for goblin_lite.goblin</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">static_scenario_generator.scenarios</span> <span class="kn">import</span> <span class="n">ScenarioGeneration</span>
<span class="kn">from</span> <span class="nn">livestock_generation.livestock</span> <span class="kn">import</span> <span class="n">AnimalData</span>
<span class="kn">from</span> <span class="nn">livestock_generation.livestock_exports</span> <span class="kn">import</span> <span class="n">Exports</span>
<span class="kn">from</span> <span class="nn">grassland_production.grassland_output</span> <span class="kn">import</span> <span class="n">GrasslandOutput</span>
<span class="kn">from</span> <span class="nn">goblin_lite.impact_categories</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AirQualityTotal</span><span class="p">,</span>
    <span class="n">EutrophicationTotal</span><span class="p">,</span>
    <span class="n">ClimateChangeTotal</span><span class="p">,</span>
    <span class="n">ClimateChangeLivestock</span><span class="p">,</span>
    <span class="n">EutrophicationLivestock</span><span class="p">,</span>
    <span class="n">AirQualityLivestock</span><span class="p">,</span>
    <span class="n">ClimateChangeLandUse</span><span class="p">,</span>
    <span class="n">ClimateChangeCrop</span><span class="p">,</span>
    <span class="n">EurtrophicationCrop</span><span class="p">,</span>
    <span class="n">AirQualityCrop</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">goblin_lite.database_manager</span> <span class="kn">import</span> <span class="n">DataManager</span>
<span class="kn">from</span> <span class="nn">goblin_lite.data_fetcher</span> <span class="kn">import</span> <span class="n">DataFetcher</span>
<span class="kn">from</span> <span class="nn">landcover_assignment.transition_matrix</span> <span class="kn">import</span> <span class="n">TransitionMatrix</span>
<span class="kn">from</span> <span class="nn">landcover_assignment.landcover</span> <span class="kn">import</span> <span class="n">LandCover</span>
<span class="kn">from</span> <span class="nn">landcover_assignment.afforestation</span> <span class="kn">import</span> <span class="n">Afforestation</span>
<span class="kn">from</span> <span class="nn">cbm_runner.runner</span> <span class="kn">import</span> <span class="n">Runner</span>
<span class="kn">from</span> <span class="nn">crop_lca.national_crop_production</span> <span class="kn">import</span> <span class="n">NationalCropData</span>
<span class="kn">import</span> <span class="nn">copy</span> <span class="k">as</span> <span class="nn">copy</span>


<div class="viewcode-block" id="ScenarioRunner"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner">[docs]</a><span class="k">class</span> <span class="nc">ScenarioRunner</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A class used to run scenarios based on the input configuration files. There are two configuration files required:</span>
<span class="sd">    (1) Scenario configuration files, containing the specified scenario parameters, (2) The CBM CFS3 configuration file, containing the nationally specific</span>
<span class="sd">    forest configuration settings.</span>

<span class="sd">    In total, the scenario runner generates data for each scenario and the selected baseline contained in 26 tables. These data tables can be referenced using the DataFetcher</span>
<span class="sd">    class, and visualized using the DataGrapher class.</span>

<span class="sd">    Tables are returned as pandas dataframes.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    AR_VALUE : str</span>
<span class="sd">        The Assessment Report value. Default is &quot;AR5&quot;.</span>
<span class="sd">    ef_country : str</span>
<span class="sd">        The country for which the scenario is being run.</span>
<span class="sd">    calibration_year : int</span>
<span class="sd">        The year for calibration data.</span>
<span class="sd">    target_year : int</span>
<span class="sd">        The target year for which the scenario is generated.</span>
<span class="sd">    config_path : str</span>
<span class="sd">        The path to the scenario configuration file.</span>
<span class="sd">    cbm_config_path : str</span>
<span class="sd">        The path to the CBM CFS3 configuration file.</span>
<span class="sd">    scenario_class : ScenarioGeneration</span>
<span class="sd">        An instance of the ScenarioGeneration class.</span>
<span class="sd">    data_manager_class : DataManager</span>
<span class="sd">        An instance of the DataManager class.</span>

<span class="sd">    Methods</span>
<span class="sd">    -------</span>
<span class="sd">    run_scenarios():</span>
<span class="sd">        Runs the scenario generation process based on the provided inputs.</span>

<span class="sd">    generate_livestock_outputs(scenario_animal_data, baseline_animal_data, scenario_inputs_df):</span>
<span class="sd">        Generates livestock outputs based on the scenario animal data, baseline animal data, and scenario inputs dataframe.</span>

<span class="sd">    generate_air_quality_totals(scenario_dataframe):</span>
<span class="sd">        Generates air quality totals based on the scenario dataframe.</span>

<span class="sd">    generate_eutrophication_totals(scenario_dataframe):</span>
<span class="sd">        Generates eutrophication totals based on the scenario dataframe.</span>

<span class="sd">    generate_climate_change_totals(calibration_year, target_year, scenario_dataframe):</span>
<span class="sd">        Generates climate change totals based on the calibration year, target year, and scenario dataframe.</span>

<span class="sd">    get_air_quality_emission_dataframes():</span>
<span class="sd">        Retrieves air quality emission dataframes.</span>

<span class="sd">    get_eutrophication_emission_dataframes():</span>
<span class="sd">        Retrieves eutrophication emission dataframes.</span>

<span class="sd">    get_climate_emission_dataframes():</span>
<span class="sd">        Retrieves climate emission dataframes.</span>

<span class="sd">    generate_transition_matrix(scenario_dataframe, grassland_area, spared_area):</span>
<span class="sd">        Generates the transition matrix based on the scenario dataframe, grassland area, and spared area.</span>

<span class="sd">    generate_landuse_data(scenario_dataframe, grassland_area, spared_area):</span>
<span class="sd">        Generates land use data based on the scenario dataframe, grassland area, and spared area.</span>

<span class="sd">    generate_crop_data(scenario_dataframe):</span>
<span class="sd">        Generates crop data based on the scenario dataframe.</span>

<span class="sd">    generate_crop_farm_data(scenario_dataframe, crop_dataframe, default_urea, default_urea_abated):</span>
<span class="sd">        Generates crop farm data based on the scenario dataframe, crop dataframe, default urea, and default urea abated.</span>

<span class="sd">    generate_baseline_farm_inputs(scenario_dataframe, scenario_animal_data, baseline_animal_data):</span>
<span class="sd">        Generates baseline farm inputs based on the scenario dataframe, scenario animal data, and baseline animal data.</span>

<span class="sd">    generate_scenario_farm_inputs(scenario_dataframe, scenario_animal_data, baseline_animal_data):</span>
<span class="sd">        Generates scenario farm inputs based on the scenario dataframe, scenario animal data, and baseline animal data.</span>

<span class="sd">    generate_grassland_areas(scenario_dataframe, scenario_animal_data, baseline_animal_data):</span>
<span class="sd">        Generates grassland areas based on the scenario dataframe, scenario animal data, and baseline animal data.</span>

<span class="sd">    generate_crop_footprint(crop_dataframe, scenario_dataframe, default_urea, default_urea_abated):</span>
<span class="sd">        Generates crop footprint based on the crop dataframe, scenario dataframe, default urea, and default urea abated.</span>

<span class="sd">    generate_aggregated_crop_footprint(crop_dataframe, scenario_dataframe, default_urea, default_urea_abated):</span>
<span class="sd">        Generates aggregated crop footprint based on the crop dataframe, scenario dataframe, default urea, and default urea abated.</span>

<span class="sd">    generate_landuse_footprint(landuse_data, transition_matrix, forest_data):</span>
<span class="sd">        Generates land use footprint based on the land use data, transition matrix, and forest data.</span>

<span class="sd">    generate_livestock_footprint(baseline_animal_data, scenario_animal_data, farm_inputs_baseline, farm_inputs_scenario):</span>
<span class="sd">        Generates livestock footprint based on the baseline animal data, scenario animal data, farm inputs for the baseline, and farm inputs for the scenario.</span>

<span class="sd">    generate_aggregated_livestock_footprint(baseline_animal_data, scenario_animal_data, farm_inputs_baseline, farm_inputs_scenario):</span>
<span class="sd">        Generates aggregated livestock footprint based on the baseline animal data, scenario animal data, farm inputs for the baseline, and farm inputs for the scenario.</span>

<span class="sd">    generate_afforestation_data(transition_matrix, scenario_dataframe):</span>
<span class="sd">        Generates afforestation data based on the transition matrix and scenario dataframe.</span>

<span class="sd">    generate_forest_carbon(afforestation_dataframe, scenario_dataframe):</span>
<span class="sd">        Generates forest carbon data based on the afforestation dataframe and scenario dataframe.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ef_country</span><span class="p">,</span>
        <span class="n">calibration_year</span><span class="p">,</span>
        <span class="n">target_year</span><span class="p">,</span>
        <span class="n">config_path</span><span class="p">,</span>
        <span class="n">cbm_config_path</span><span class="p">,</span>
        <span class="n">AR_VALUE</span><span class="o">=</span><span class="s2">&quot;AR5&quot;</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AR_VALUE</span> <span class="o">=</span> <span class="n">AR_VALUE</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span> <span class="o">=</span> <span class="n">ef_country</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span> <span class="o">=</span> <span class="n">calibration_year</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span> <span class="o">=</span> <span class="n">target_year</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span> <span class="o">=</span> <span class="n">config_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cbm_config_path</span> <span class="o">=</span> <span class="n">cbm_config_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scenario_class</span> <span class="o">=</span> <span class="n">ScenarioGeneration</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span> <span class="o">=</span> <span class="n">DataManager</span><span class="p">()</span>

<div class="viewcode-block" id="ScenarioRunner.run_scenarios"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.run_scenarios">[docs]</a>    <span class="k">def</span> <span class="nf">run_scenarios</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Runs the scenario generation process based on the provided inputs.</span>

<span class="sd">        This method orchestrates the entire scenario generation process. It prepares and generates data for each scenario</span>
<span class="sd">        and the selected baseline contained in 26 tables. The generated data tables are saved as pandas dataframes and can</span>
<span class="sd">        be accessed later for analysis and visualization.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method performs the following steps:</span>

<span class="sd">        1. Create or clear the database using the DataManager instance (:attr:`data_manager_class`).</span>

<span class="sd">        2. Generate the scenario data by calling the :meth:`generate_scenario_dataframe` method of the ScenarioGeneration class</span>
<span class="sd">        (:attr:`scenario_class`) with the provided configuration path (:attr:`config_path`).</span>

<span class="sd">        3. Create instances of the AnimalData class (:attr:`animal_class`) for generating animal-related data based on the</span>
<span class="sd">        specified parameters: :attr:`ef_country`, :attr:`baseline_year`, :attr:`target_year`, and the scenario_dataframe.</span>

<span class="sd">        4. Create the baseline animal data by calling the :meth:`create_baseline_animal_dataframe` method of the AnimalData class.</span>

<span class="sd">        5. Create the scenario animal data by calling the :meth:`create_animal_dataframe` method of the AnimalData class.</span>

<span class="sd">        6. Generate farm inputs for the scenario by calling the :meth:`generate_scenario_farm_inputs` method, and for the baseline</span>
<span class="sd">        by calling the :meth:`generate_baseline_farm_inputs` method, using the scenario and baseline animal data, as well as the</span>
<span class="sd">        specified urea proportions and urea abated proportions.</span>

<span class="sd">        7. Generate data for Grassland areas (:attr:`spared_area` and :attr:`total_grassland_area`) using the scenario and baseline</span>
<span class="sd">        animal data.</span>

<span class="sd">        8. Generate crop data for the scenario using the scenario dataframe.</span>

<span class="sd">        9. Generate crop farm data for the scenario using the scenario dataframe, crop data, default urea, and default urea</span>
<span class="sd">        abated proportions.</span>

<span class="sd">        10. Generate the transition matrix for land use changes based on the scenario dataframe, total grassland area, and</span>
<span class="sd">            spared area.</span>

<span class="sd">        11. Generate land use data based on the scenario dataframe, total grassland area, and spared area.</span>

<span class="sd">        12. Generate afforestation data based on the transition matrix and the scenario dataframe.</span>

<span class="sd">        13. Generate forest carbon data (:attr:`forest_data`) based on the afforestation data and the scenario dataframe using the</span>
<span class="sd">            CBM CFS3 runner.</span>

<span class="sd">        14. Perform Life Cycle Assessment (LCA) calculations by generating crop footprints, aggregated crop footprints,</span>
<span class="sd">            land use footprints, livestock footprints, aggregated livestock footprints, climate change totals,</span>
<span class="sd">            eutrophication totals, and air quality totals using the respective methods.</span>

<span class="sd">        15. Generate livestock outputs based on the scenario animal data, baseline animal data, and scenario dataframe.</span>

<span class="sd">        The generated data is intended for further analysis and visualization within the class context.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">create_or_clear_database</span><span class="p">()</span>

        <span class="n">path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>
        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>
        <span class="n">calibration_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>

        <span class="n">default_urea</span> <span class="o">=</span> <span class="mf">0.2</span>
        <span class="n">default_urea_abated</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># generate scenario_data</span>
        <span class="n">scenario_dataframe</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">scenario_class</span><span class="o">.</span><span class="n">generate_scenario_dataframe</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">afforest_year</span> <span class="o">=</span> <span class="n">scenario_dataframe</span><span class="p">[</span><span class="s2">&quot;Afforest year&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Error may be a results of multiple Afforest, scenarios should have identical Afforest years ... &quot;</span><span class="p">,</span>
                <span class="n">e</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">animal_class</span> <span class="o">=</span> <span class="n">AnimalData</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span> <span class="n">baseline_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="n">baseline_animal_data</span> <span class="o">=</span> <span class="n">animal_class</span><span class="o">.</span><span class="n">create_baseline_animal_dataframe</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span> <span class="s2">&quot;baseline_animal_data&quot;</span>
        <span class="p">)</span>

        <span class="c1"># create dataframe for scenarios animals</span>
        <span class="n">scenario_animal_data</span> <span class="o">=</span> <span class="n">animal_class</span><span class="o">.</span><span class="n">create_animal_dataframe</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="s2">&quot;scenario_animal_data&quot;</span>
        <span class="p">)</span>

        <span class="c1"># farm inputs</span>

        <span class="n">farm_inputs_scenario</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_scenario_farm_inputs</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
        <span class="p">)</span>

        <span class="n">farm_inputs_baseline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_baseline_farm_inputs</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
        <span class="p">)</span>

        <span class="c1"># Grassland</span>
        <span class="n">spared_area</span><span class="p">,</span> <span class="n">total_grassland_area</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_grassland_areas</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
        <span class="p">)</span>

        <span class="n">crop_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_crop_data</span><span class="p">(</span><span class="n">scenario_dataframe</span><span class="p">)</span>
        <span class="n">crop_farm_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_crop_farm_data</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">crop_data</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
        <span class="p">)</span>

        <span class="n">transition_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_transition_matrix</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">total_grassland_area</span><span class="p">,</span> <span class="n">spared_area</span>
        <span class="p">)</span>

        <span class="n">landuse_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_landuse_data</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">total_grassland_area</span><span class="p">,</span> <span class="n">spared_area</span>
        <span class="p">)</span>

        <span class="n">afforestation_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_afforestation_data</span><span class="p">(</span>
            <span class="n">transition_matrix</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="n">forest_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_forest_carbon</span><span class="p">(</span>
            <span class="n">afforest_year</span><span class="p">,</span> <span class="n">afforestation_data</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="c1"># LCA</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_crop_footprint</span><span class="p">(</span>
            <span class="n">crop_data</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_aggregated_crop_footprint</span><span class="p">(</span>
            <span class="n">crop_data</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_landuse_footprint</span><span class="p">(</span>
            <span class="n">landuse_data</span><span class="p">,</span> <span class="n">transition_matrix</span><span class="p">,</span> <span class="n">forest_data</span><span class="p">[</span><span class="s2">&quot;forest_flux&quot;</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_livestock_footprint</span><span class="p">(</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span>
            <span class="n">farm_inputs_baseline</span><span class="p">,</span>
            <span class="n">farm_inputs_scenario</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_aggregated_livestock_footprint</span><span class="p">(</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span>
            <span class="n">farm_inputs_baseline</span><span class="p">,</span>
            <span class="n">farm_inputs_scenario</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_climate_change_totals</span><span class="p">(</span>
            <span class="n">calibration_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_eutrophication_totals</span><span class="p">(</span><span class="n">scenario_dataframe</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_air_quality_totals</span><span class="p">(</span><span class="n">scenario_dataframe</span><span class="p">)</span>

        <span class="c1"># livestock ouputs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_livestock_ouputs</span><span class="p">(</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Scenario Generation Complete ... </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_livestock_ouputs"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_livestock_ouputs">[docs]</a>    <span class="k">def</span> <span class="nf">generate_livestock_ouputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span><span class="p">,</span> <span class="n">scenario_inputs_df</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates livestock outputs for the given scenario.</span>

<span class="sd">        This method calculates and generates livestock-related outputs for the specified scenarios based on the provided data.</span>
<span class="sd">        The livestock outputs include protein and milk production data for the given scenario and baseline animal data.</span>
<span class="sd">        A summary DataFrame is created by combining the milk production data and the beef (carcass) weight</span>
<span class="sd">        from the protein production data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_animal_data : pandas.DataFrame</span>
<span class="sd">            A DataFrame containing animal-related data specific to the scenario being analyzed.</span>

<span class="sd">        baseline_animal_data : pandas.DataFrame</span>
<span class="sd">            A DataFrame containing baseline animal-related data for comparison.</span>

<span class="sd">        scenario_inputs_df : pandas.DataFrame</span>
<span class="sd">            A DataFrame containing scenario-specific input data required for livestock output calculations.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        This method uses the provided scenario_animal_data, baseline_animal_data, and scenario_inputs_df to calculate the</span>
<span class="sd">        protein and milk production for the given scenario using the Exports class.</span>

<span class="sd">        The milk production DataFrame is combined with a copy of the protein production DataFrame to create a summary</span>
<span class="sd">        DataFrame, protein_and_milk_summary, which includes an additional column &quot;total_beef_kg&quot; representing the carcass</span>
<span class="sd">        weight (in kilograms) of beef.</span>

<span class="sd">        The generated protein_and_milk_summary DataFrame is saved as &quot;protein_and_milk_summary&quot; using the</span>
<span class="sd">        DataManager instance (:attr:`data_manager_class`).</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>
        <span class="n">calibration_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">export_class</span> <span class="o">=</span> <span class="n">Exports</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span> <span class="n">calibration_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_inputs_df</span>
        <span class="p">)</span>

        <span class="n">protein_production_df</span> <span class="o">=</span> <span class="n">export_class</span><span class="o">.</span><span class="n">compute_system_protien_exports</span><span class="p">(</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
        <span class="p">)</span>

        <span class="n">milk_production_df</span> <span class="o">=</span> <span class="n">export_class</span><span class="o">.</span><span class="n">compute_system_milk_exports</span><span class="p">(</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
        <span class="p">)</span>

        <span class="n">protein_and_milk_summary</span> <span class="o">=</span> <span class="n">milk_production_df</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">protein_and_milk_summary</span><span class="p">[</span><span class="s2">&quot;total_beef_kg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">protein_production_df</span><span class="p">[</span>
            <span class="s2">&quot;carcass_weight_kg&quot;</span>
        <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">protein_and_milk_summary</span><span class="p">,</span> <span class="s2">&quot;protein_and_milk_summary&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_air_quality_totals"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_air_quality_totals">[docs]</a>    <span class="k">def</span> <span class="nf">generate_air_quality_totals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates total air quality emissions for the given scenario.</span>

<span class="sd">        This method calculates and generates the total air quality emissions for the specified scenarios based on the provided</span>
<span class="sd">        calculated air_quality emissions for crop and livestock. It uses the AirQualityTotal class to perform the calculations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A DataFrame containing the scenario-specific data required for air quality emissions calculations.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the scenario_dataframe and the calculated air_quality emission for crop and livestock to determine the scenario-specific data for air quality emissions in total.</span>
<span class="sd">        calculations.</span>

<span class="sd">        It calls the get_air_quality_emission_dataframes method to obtain dataframes containing air quality emissions for</span>
<span class="sd">        different categories (e.g., crop, animal) using the DataFetcher class. These dataframes are used in the calculations</span>
<span class="sd">        performed by the AirQualityTotal class.</span>

<span class="sd">        The air_quality_class instance of AirQualityTotal is responsible for calculating the total air quality emissions</span>
<span class="sd">        for the given scenario. The result is stored in the air_quality DataFrame.</span>

<span class="sd">        The generated air_quality DataFrame is then saved as &quot;air_quality_totals&quot; using the DataManager instance</span>
<span class="sd">        (:attr:`data_manager_class`).</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">air_quality_class</span> <span class="o">=</span> <span class="n">AirQualityTotal</span><span class="p">()</span>

        <span class="n">dataframes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_air_quality_emission_dataframes</span><span class="p">()</span>

        <span class="n">air_quality</span> <span class="o">=</span> <span class="n">air_quality_class</span><span class="o">.</span><span class="n">total_air_quality_emissions</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">dataframes</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">air_quality</span><span class="p">,</span> <span class="s2">&quot;air_quality_totals&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_eutrophication_totals"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_eutrophication_totals">[docs]</a>    <span class="k">def</span> <span class="nf">generate_eutrophication_totals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates total eutrophication emissions for the given scenario.</span>

<span class="sd">        This method calculates and generates the total eutrophication emissions for the specified scenarios based on the</span>
<span class="sd">        provided scenario_dataframe. It uses the EutrophicationTotal class to perform the calculations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A DataFrame containing the scenario-specific data required for eutrophication emissions calculations.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the scenario_dataframe to determine the scenario-specific data for eutrophication emissions</span>
<span class="sd">        calculations.</span>

<span class="sd">        It calls the get_eutrophication_emission_dataframes method to obtain dataframes containing eutrophication emissions</span>
<span class="sd">        for different categories (e.g., crop, animal) using the DataFetcher class. These dataframes are used in the</span>
<span class="sd">        calculations performed by the EutrophicationTotal class.</span>

<span class="sd">        The eutrophication_class instance of EutrophicationTotal is responsible for calculating the total eutrophication</span>
<span class="sd">        emissions for the given scenario. The result is stored in the eutrophication DataFrame.</span>

<span class="sd">        The generated eutrophication DataFrame is then saved as &quot;eutrophication_totals&quot; using the DataManager instance</span>
<span class="sd">        (:attr:`data_manager_class`).</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">eutrophication_class</span> <span class="o">=</span> <span class="n">EutrophicationTotal</span><span class="p">()</span>

        <span class="n">dataframes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_eutrophication_emission_dataframes</span><span class="p">()</span>

        <span class="n">eutrophication</span> <span class="o">=</span> <span class="n">eutrophication_class</span><span class="o">.</span><span class="n">total_eutrophication_emissions</span><span class="p">(</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">dataframes</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">eutrophication</span><span class="p">,</span> <span class="s2">&quot;eutrophication_totals&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_climate_change_totals"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_climate_change_totals">[docs]</a>    <span class="k">def</span> <span class="nf">generate_climate_change_totals</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">calibration_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates total climate change emissions for the given scenario.</span>

<span class="sd">        This method calculates and generates the total climate change emissions for the specified scenarios based on the</span>
<span class="sd">        provided calibration_year, target_year, and scenario_dataframe. It uses the ClimateChangeTotal class to perform the</span>
<span class="sd">        calculations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        calibration_year : int</span>
<span class="sd">            The year representing the calibration period for the emissions calculations.</span>

<span class="sd">        target_year : int</span>
<span class="sd">            The year representing the target period for the emissions calculations.</span>

<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A DataFrame containing the scenario-specific data required for climate change emissions calculations.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the calibration_year, target_year, and scenario_dataframe to determine the scenario-specific</span>
<span class="sd">        data for climate change emissions calculations.</span>

<span class="sd">        It calls the get_climate_emission_dataframes method to obtain dataframes containing climate change emissions for</span>
<span class="sd">        different categories (e.g., crop, animal, land) using the DataFetcher class. These dataframes are used in the</span>
<span class="sd">        calculations performed by the ClimateChangeTotal class.</span>

<span class="sd">        The climate_class instance of ClimateChangeTotal is responsible for calculating the total climate change emissions</span>
<span class="sd">        for the given scenario, taking into account the specified calibration_year, target_year, and scenario_dataframe.</span>
<span class="sd">        The result is stored in the climate_change DataFrame.</span>

<span class="sd">        The generated climate_change DataFrame is then saved as &quot;climate_change_totals&quot; using the DataManager instance</span>
<span class="sd">        (:attr:`data_manager_class`).</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">climate_class</span> <span class="o">=</span> <span class="n">ClimateChangeTotal</span><span class="p">()</span>

        <span class="n">dataframes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_climate_emission_dataframes</span><span class="p">()</span>

        <span class="n">climate_change</span> <span class="o">=</span> <span class="n">climate_class</span><span class="o">.</span><span class="n">total_climate_change_emissions</span><span class="p">(</span>
            <span class="n">calibration_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">dataframes</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change</span><span class="p">,</span> <span class="s2">&quot;climate_change_totals&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.get_air_quality_emission_dataframes"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.get_air_quality_emission_dataframes">[docs]</a>    <span class="k">def</span> <span class="nf">get_air_quality_emission_dataframes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves dataframes containing air quality emissions by category.</span>

<span class="sd">        This method fetches dataframes containing air quality emissions for different categories, such as &quot;crop&quot; and</span>
<span class="sd">        &quot;animal,&quot; using the DataFetcher class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            A dictionary containing dataframes of air quality emissions for different categories.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the DataFetcher class to obtain the dataframes containing air quality emissions data by</span>
<span class="sd">        category. It calls the `get_air_quality_crop_emissions_by_category` and</span>
<span class="sd">        `get_air_quality_animal_emissions_by_category` methods from the DataFetcher class to fetch emissions data for crops</span>
<span class="sd">        and animals, respectively.</span>

<span class="sd">        The method then constructs a dictionary, `total_emissions_dict`, with keys representing different categories (&quot;crop&quot;</span>
<span class="sd">        and &quot;animal&quot;) and their corresponding dataframes as values.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">db_reference_class</span> <span class="o">=</span> <span class="n">DataFetcher</span><span class="p">()</span>

        <span class="n">crop</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_air_quality_crop_emissions_by_category</span><span class="p">()</span>
        <span class="n">animal</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_air_quality_animal_emissions_by_category</span><span class="p">()</span>

        <span class="n">total_emissions_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;crop&quot;</span><span class="p">:</span> <span class="n">crop</span><span class="p">,</span>
            <span class="s2">&quot;animal&quot;</span><span class="p">:</span> <span class="n">animal</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">total_emissions_dict</span></div>

<div class="viewcode-block" id="ScenarioRunner.get_eutrophication_emission_dataframes"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.get_eutrophication_emission_dataframes">[docs]</a>    <span class="k">def</span> <span class="nf">get_eutrophication_emission_dataframes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves dataframes containing eutrophication emissions by category.</span>

<span class="sd">        This method fetches dataframes containing eutrophication emissions for different categories, such as &quot;crop&quot; and</span>
<span class="sd">        &quot;animal,&quot; using the DataFetcher class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            A dictionary containing dataframes of eutrophication emissions for different categories.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the DataFetcher class to obtain the dataframes containing eutrophication emissions data by</span>
<span class="sd">        category. It calls the `get_eutrophication_crop_emissions_by_category` and</span>
<span class="sd">        `get_eutrophication_animal_emissions_by_category` methods from the DataFetcher class to fetch emissions data for</span>
<span class="sd">        crops and animals, respectively.</span>

<span class="sd">        The method then constructs a dictionary, `total_emissions_dict`, with keys representing different categories (&quot;crop&quot;</span>
<span class="sd">        and &quot;animal&quot;) and their corresponding dataframes as values.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">db_reference_class</span> <span class="o">=</span> <span class="n">DataFetcher</span><span class="p">()</span>

        <span class="n">crop</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_eutrophication_crop_emissions_by_category</span><span class="p">()</span>
        <span class="n">animal</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_eutrophication_animal_emissions_by_category</span><span class="p">()</span>

        <span class="n">total_emissions_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;crop&quot;</span><span class="p">:</span> <span class="n">crop</span><span class="p">,</span>
            <span class="s2">&quot;animal&quot;</span><span class="p">:</span> <span class="n">animal</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">total_emissions_dict</span></div>

<div class="viewcode-block" id="ScenarioRunner.get_climate_emission_dataframes"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.get_climate_emission_dataframes">[docs]</a>    <span class="k">def</span> <span class="nf">get_climate_emission_dataframes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves dataframes containing climate change emissions by category.</span>

<span class="sd">        This method fetches dataframes containing climate change emissions for different categories, such as &quot;crop,&quot; &quot;animal,&quot;</span>
<span class="sd">        and &quot;land,&quot; using the DataFetcher class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            A dictionary containing dataframes of climate change emissions for different categories.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the DataFetcher class to obtain the dataframes containing climate change emissions data by</span>
<span class="sd">        category. It calls the `get_climate_change_crop_emissions_aggregated`, `get_climate_change_animal_emissions_aggregated`,</span>
<span class="sd">        and `get_landuse_emissions_totals` methods from the DataFetcher class to fetch emissions data for crops, animals,</span>
<span class="sd">        and land, respectively.</span>

<span class="sd">        The method then constructs a dictionary, `total_emissions_dict`, with keys representing different categories</span>
<span class="sd">        (&quot;crop&quot;, &quot;animal&quot;, and &quot;land&quot;) and their corresponding dataframes as values.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">db_reference_class</span> <span class="o">=</span> <span class="n">DataFetcher</span><span class="p">()</span>

        <span class="n">crop</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_climate_change_crop_emissions_aggregated</span><span class="p">()</span>
        <span class="n">animal</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_climate_change_animal_emissions_aggregated</span><span class="p">()</span>
        <span class="n">land</span> <span class="o">=</span> <span class="n">db_reference_class</span><span class="o">.</span><span class="n">get_landuse_emissions_totals</span><span class="p">()</span>

        <span class="n">total_emissions_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;crop&quot;</span><span class="p">:</span> <span class="n">crop</span><span class="p">,</span>
            <span class="s2">&quot;animal&quot;</span><span class="p">:</span> <span class="n">animal</span><span class="p">,</span>
            <span class="s2">&quot;land&quot;</span><span class="p">:</span> <span class="n">land</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">total_emissions_dict</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_transition_matrix"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_transition_matrix">[docs]</a>    <span class="k">def</span> <span class="nf">generate_transition_matrix</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">grassland_area</span><span class="p">,</span> <span class="n">spared_area</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates a transition matrix based on scenario parameters and land use data.</span>

<span class="sd">        This method calculates a transition matrix using scenario parameters and land use data, and saves the resulting</span>
<span class="sd">        transition matrix as a datatable using the DataManager class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>
<span class="sd">        grassland_area : float</span>
<span class="sd">            The total area of grassland.</span>
<span class="sd">        spared_area : float</span>
<span class="sd">            The area of grassland spared from conversion to other land uses.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        numpy.ndarray</span>
<span class="sd">            The generated transition matrix as a NumPy array.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the TransitionMatrix class to calculate the transition matrix based on the given scenario</span>
<span class="sd">        parameters, baseline year, target year, grassland area, and spared area. The transition matrix represents the</span>
<span class="sd">        transition areas of land use changes from one category to another.</span>

<span class="sd">        The resulting transition matrix is saved as a datatable using the `save_goblin_results_output_datatable` method</span>
<span class="sd">        from the DataManager class with the name &quot;transition_matrix&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">transition</span> <span class="o">=</span> <span class="n">TransitionMatrix</span><span class="p">(</span>
            <span class="n">baseline_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">grassland_area</span><span class="p">,</span> <span class="n">spared_area</span>
        <span class="p">)</span>

        <span class="n">transition_matrix</span> <span class="o">=</span> <span class="n">transition</span><span class="o">.</span><span class="n">create_transition_matrix</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">transition_matrix</span><span class="p">,</span> <span class="s2">&quot;transition_matrix&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">transition_matrix</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_landuse_data"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_landuse_data">[docs]</a>    <span class="k">def</span> <span class="nf">generate_landuse_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">grassland_area</span><span class="p">,</span> <span class="n">spared_area</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates land use data based on scenario parameters and land area information.</span>

<span class="sd">        This method calculates the current and future land use data using scenario parameters, baseline year, target year, total grassland</span>
<span class="sd">        area, and spared grassland area. It saves the resulting land use data as a datatable using the DataManager class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>
<span class="sd">        grassland_area : float</span>
<span class="sd">            The total area of grassland.</span>
<span class="sd">        spared_area : float</span>
<span class="sd">            The area of grassland spared from conversion to other land uses.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing the generated land use data.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the LandCover class to calculate the current and future land use data based on the given scenario parameters,</span>
<span class="sd">        baseline year, target year, total grassland area, and spared grassland area. The future land use data represents the projected</span>
<span class="sd">        land use areas for different land use categories.</span>

<span class="sd">        The resulting land use data is saved as a datatable using the `save_goblin_results_output_datatable` method from the</span>
<span class="sd">        DataManager class with the name &quot;landuse_data&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">land</span> <span class="o">=</span> <span class="n">LandCover</span><span class="p">(</span>
            <span class="n">baseline_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">grassland_area</span><span class="p">,</span> <span class="n">spared_area</span>
        <span class="p">)</span>

        <span class="n">landuse_data</span> <span class="o">=</span> <span class="n">land</span><span class="o">.</span><span class="n">combined_future_land_use_area</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">landuse_data</span><span class="p">,</span> <span class="s2">&quot;landuse_data&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">landuse_data</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_crop_data"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_crop_data">[docs]</a>    <span class="k">def</span> <span class="nf">generate_crop_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates crop data based on scenario parameters and national CSO crop production data.</span>

<span class="sd">        This method calculates crop data at the national level and given scenario parameters for urea, baseline year, and target year.</span>
<span class="sd">        It uses scenario-specific crop production data provided by the NationalCropData class. The resulting crop data is saved</span>
<span class="sd">        as a datatable using the DataManager class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing the generated crop data.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the NationalCropData class to generate crop production for from national level data for Ireland for each scenario</span>
<span class="sd">        based on the given baseline year, target year, and scenario. It iterates through unique scenario values in the</span>
<span class="sd">        scenario_dataframe and generates crop data accordingly. The generated crop data is stored in the crop_df variable</span>
<span class="sd">        for each scenario, and the final crop data for the last scenario is returned as the output.</span>

<span class="sd">        The resulting crop data is saved as a datatable using the `save_goblin_results_output_datatable` method from the</span>
<span class="sd">        DataManager class with the name &quot;crop_input_data&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>
        <span class="n">scenarios</span> <span class="o">=</span> <span class="n">scenario_dataframe</span><span class="p">[</span><span class="s2">&quot;Scenarios&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">sc</span> <span class="ow">in</span> <span class="n">scenarios</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sc</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">crop_df</span> <span class="o">=</span> <span class="n">NationalCropData</span><span class="o">.</span><span class="n">gen_scenario_crop_production_dataframe</span><span class="p">(</span>
                    <span class="n">baseline_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">sc</span><span class="p">,</span> <span class="n">crop_df</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">crop_df</span> <span class="o">=</span> <span class="n">NationalCropData</span><span class="o">.</span><span class="n">gen_scenario_crop_production_dataframe</span><span class="p">(</span>
                    <span class="n">baseline_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">sc</span>
                <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">crop_df</span><span class="p">,</span> <span class="s2">&quot;crop_input_data&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">crop_df</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_crop_farm_data"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_crop_farm_data">[docs]</a>    <span class="k">def</span> <span class="nf">generate_crop_farm_data</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates crop farm data representing fertilizer inputs for each scenario.</span>

<span class="sd">        This method calculates crop farm data representing fertilizer inputs (in kg) for each scenario. It utilizes the provided</span>
<span class="sd">        crop production data and scenario parameters to determine the total amount of fertilizers (urea, urea abated, total N,</span>
<span class="sd">        P, and K fertilizers) required at the national level. The generated crop farm data is saved as a datatable</span>
<span class="sd">        using the DataManager class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        crop_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing crop production data for different scenarios.</span>

<span class="sd">        default_urea : float</span>
<span class="sd">            The default proportion of urea applied in crop farming.</span>

<span class="sd">        default_urea_abated : float</span>
<span class="sd">            The default proportion of urea abated in crop farming.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing the generated crop farm data representing fertilizer inputs (in kg) for each scenario.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method first selects specific columns, namely &#39;Scenarios&#39;, &#39;Urea proportion&#39;, and &#39;Urea abated proportion&#39;, from</span>
<span class="sd">        the scenario_dataframe and drops any duplicate rows. This results in a subset_df that contains unique scenario</span>
<span class="sd">        parameters related to urea proportion and abatement.</span>

<span class="sd">        Using the provided crop_dataframe and the subset_df, the method then utilizes the NationalCropData class to calculate</span>
<span class="sd">        the fertilizer inputs (in kg) at the national level for each crop. The total amount of fertilizers, including urea,</span>
<span class="sd">        urea abated, total N, P, and K fertilizers, is calculated based on the given urea proportion and abatement parameters.</span>

<span class="sd">        The generated crop farm data, representing fertilizer inputs (in kg) for each scenario, is saved as a datatable using</span>
<span class="sd">        the `save_goblin_results_output_datatable` method from the DataManager class with the name &quot;crop_farm_data&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">subset_df</span> <span class="o">=</span> <span class="n">scenario_dataframe</span><span class="p">[</span>
            <span class="p">[</span><span class="s2">&quot;Scenarios&quot;</span><span class="p">,</span> <span class="s2">&quot;Urea proportion&quot;</span><span class="p">,</span> <span class="s2">&quot;Urea abated proportion&quot;</span><span class="p">]</span>
        <span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>

        <span class="n">crop_farm_data</span> <span class="o">=</span> <span class="n">NationalCropData</span><span class="o">.</span><span class="n">gen_farm_data</span><span class="p">(</span>
            <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">subset_df</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">crop_farm_data</span><span class="p">,</span> <span class="s2">&quot;crop_farm_data&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">crop_farm_data</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_baseline_farm_inputs"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_baseline_farm_inputs">[docs]</a>    <span class="k">def</span> <span class="nf">generate_baseline_farm_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates baseline farm inputs for grassland.</span>

<span class="sd">        This method estimates the baseline farm inputs (fertilizer) application to grassland, at the national</span>
<span class="sd">        level for each scenario. The fertilizer application rates specified in the scenario_dataframe are used to determine</span>
<span class="sd">        the total amount of fertilizer (in kg) required for grassland. The generated baseline farm inputs data is saved as a</span>
<span class="sd">        datatable using the DataManager class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        scenario_animal_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing animal data for different scenarios.</span>

<span class="sd">        baseline_animal_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing baseline animal data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing the generated baseline farm inputs for grassland, specifically the fertilizer</span>
<span class="sd">            application (in kg) at the national level for the baseline.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the provided scenario_dataframe, scenario_animal_data, and baseline_animal_data to estimate the</span>
<span class="sd">        baseline farm inputs for grassland. The scenario_dataframe contains the specified fertilizer application rates, which</span>
<span class="sd">        are used to calculate the total amount of fertilizer (in kg) required at the national level for each scenario.</span>

<span class="sd">        The baseline farm inputs, representing the fertilizer application (in kg) for grassland, are determined based on the</span>
<span class="sd">        national level data. The generated baseline farm</span>
<span class="sd">        inputs data is saved as a datatable using the `save_goblin_results_output_datatable` method from the DataManager</span>
<span class="sd">        class with the name &quot;grassland_farm_inputs_baseline&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be</span>
<span class="sd">        available within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>
        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">grassland_class</span> <span class="o">=</span> <span class="n">GrasslandOutput</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span>
            <span class="n">baseline_year</span><span class="p">,</span>
            <span class="n">target_year</span><span class="p">,</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">farm_inputs_baseline</span> <span class="o">=</span> <span class="n">grassland_class</span><span class="o">.</span><span class="n">baseline_farm_inputs_data</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">farm_inputs_baseline</span><span class="p">,</span> <span class="s2">&quot;grassland_farm_inputs_baseline&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">farm_inputs_baseline</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_scenario_farm_inputs"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_scenario_farm_inputs">[docs]</a>    <span class="k">def</span> <span class="nf">generate_scenario_farm_inputs</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates scenario-specific farm inputs for grassland.</span>

<span class="sd">        This method estimates the scenario-specific farm inputs (fertilizer) application to grassland, at the</span>
<span class="sd">        national level for each scenario. The fertilizer application rates specified in the scenario_dataframe are used to</span>
<span class="sd">        determine the total amount of fertilizer (in kg) required for grassland in each scenario. The generated scenario-specific</span>
<span class="sd">        farm inputs data is saved as a datatable using the DataManager class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        scenario_animal_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing animal data for different scenarios.</span>

<span class="sd">        baseline_animal_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing baseline animal data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing the generated scenario-specific farm inputs for grassland, specifically the fertilizer</span>
<span class="sd">            application (in kg) at the national level for each scenario.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the provided scenario_dataframe, scenario_animal_data, and baseline_animal_data to estimate the</span>
<span class="sd">        scenario-specific farm inputs for grassland. The scenario_dataframe contains the specified fertilizer application rates,</span>
<span class="sd">        which are used to calculate the total amount of fertilizer (in kg) required at the national level for each scenario.</span>

<span class="sd">        The scenario-specific farm inputs, representing the fertilizer application (in kg) for grassland in each scenario, are</span>
<span class="sd">        determined based on the specified fertilizer application rates in the scenario_dataframe and other relevant data. The</span>
<span class="sd">        generated scenario-specific farm inputs data is saved as a datatable using the `save_goblin_results_output_datatable`</span>
<span class="sd">        method from the DataManager class with the name &quot;livestock_farm_inputs_scenario&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be available</span>
<span class="sd">        within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>
        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">grassland_class</span> <span class="o">=</span> <span class="n">GrasslandOutput</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span>
            <span class="n">baseline_year</span><span class="p">,</span>
            <span class="n">target_year</span><span class="p">,</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">farm_inputs_scenario</span> <span class="o">=</span> <span class="n">grassland_class</span><span class="o">.</span><span class="n">farm_inputs_data</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">farm_inputs_scenario</span><span class="p">,</span> <span class="s2">&quot;grassland_farm_inputs_scenario&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">farm_inputs_scenario</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_grassland_areas"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_grassland_areas">[docs]</a>    <span class="k">def</span> <span class="nf">generate_grassland_areas</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">scenario_animal_data</span><span class="p">,</span> <span class="n">baseline_animal_data</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the total spared and total grassland areas for each scenario.</span>

<span class="sd">        This method calculates and returns the total spared and total grassland areas for each scenario based on the provided</span>
<span class="sd">        scenario_dataframe, scenario_animal_data, and baseline_animal_data. The GrasslandOutput class is utilized to perform</span>
<span class="sd">        the necessary calculations for each scenario.</span>

<span class="sd">        The total spared area represents the area of grassland that will be converted to other land uses (e.g., wetland,</span>
<span class="sd">        forests) in the target year compared to the baseline year. The total grassland area represents</span>
<span class="sd">        the remaining grassland area.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        scenario_animal_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing animal data for different scenarios.</span>

<span class="sd">        baseline_animal_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing baseline animal data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        tuple</span>
<span class="sd">            A tuple containing two pandas DataFrame: (total_spared_area, total_grassland_area).</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method uses the provided scenario_dataframe, scenario_animal_data, and baseline_animal_data to calculate the total</span>
<span class="sd">        spared and total grassland areas for each scenario. The GrasslandOutput class is utilized to perform the necessary</span>
<span class="sd">        calculations based on the specified parameters.</span>

<span class="sd">        The calculated total spared and total grassland areas for each scenario are returned as a tuple containing two pandas</span>
<span class="sd">        DataFrame representing the total spared and total grassland areas, respectively.</span>

<span class="sd">        Additionally, the method saves the calculated total spared area and total grassland area as datatables using the</span>
<span class="sd">        `save_goblin_results_output_datatable` method from the DataManager class. The spared area datatable is saved with the name</span>
<span class="sd">        &quot;total_spared_area&quot;, and the grassland area datatable with the name &quot;total_grassland_area&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be available</span>
<span class="sd">        within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>
        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">grassland_class</span> <span class="o">=</span> <span class="n">GrasslandOutput</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span>
            <span class="n">baseline_year</span><span class="p">,</span>
            <span class="n">target_year</span><span class="p">,</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">spared_area</span> <span class="o">=</span> <span class="n">grassland_class</span><span class="o">.</span><span class="n">total_spared_area</span><span class="p">()</span>
        <span class="n">total_grassland</span> <span class="o">=</span> <span class="n">grassland_class</span><span class="o">.</span><span class="n">total_grassland_area</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">spared_area</span><span class="p">,</span> <span class="s2">&quot;total_spared_area&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">total_grassland</span><span class="p">,</span> <span class="s2">&quot;total_grassland_area&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">spared_area</span><span class="p">,</span> <span class="n">total_grassland</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_crop_footprint"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_crop_footprint">[docs]</a>    <span class="k">def</span> <span class="nf">generate_crop_footprint</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate crop footprints for climate change, eutrophication, and air quality for each scenario.</span>

<span class="sd">        This method calculates and generates crop footprints for climate change, eutrophication, and air quality for each</span>
<span class="sd">        scenario based on the provided crop_dataframe and scenario_dataframe. The footprints are computed using default urea</span>
<span class="sd">        and urea abated values for the baseline, while urea values are derived from the scenario_dataframe for each scenario.</span>
<span class="sd">        The AR Value (AR4, AR5) is derived from the class attributes, which defaults to &quot;AR5&quot;.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        crop_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing crop production data.</span>

<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        default_urea : float</span>
<span class="sd">            The default proportion of urea used in crop production.</span>

<span class="sd">        default_urea_abated : float</span>
<span class="sd">            The default proportion of urea abated in crop production.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes three different classes: ClimateChangeCrop, EutrophicationCrop, and AirQualityCrop to calculate</span>
<span class="sd">        and generate the crop footprints for climate change, eutrophication, and air quality, respectively. Each class is</span>
<span class="sd">        instantiated with the appropriate parameters (ef_country, default_urea, default_urea_abated, and AR_VALUE) to perform</span>
<span class="sd">        the necessary calculations.</span>

<span class="sd">        The calculated crop footprints for each scenario are saved as datatables using the `save_goblin_results_output_datatable`</span>
<span class="sd">        method from the DataManager class. The footprints for climate change are saved with the name &quot;climate_change_crops_disaggregated&quot;,</span>
<span class="sd">        the footprints for eutrophication are saved with the name &quot;eutrophication_crops_disaggregated&quot;, and the footprints for air quality</span>
<span class="sd">        are saved with the name &quot;air_quality_crops_disaggregated&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be available</span>
<span class="sd">        within the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">AR_VALUE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AR_VALUE</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>

        <span class="n">climate_change_crop_class</span> <span class="o">=</span> <span class="n">ClimateChangeCrop</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span><span class="p">,</span> <span class="n">AR_VALUE</span>
        <span class="p">)</span>

        <span class="n">climate_change</span> <span class="o">=</span> <span class="n">climate_change_crop_class</span><span class="o">.</span><span class="n">climate_change_crops_dissagregated</span><span class="p">(</span>
            <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="n">eutrophication_crop_class</span> <span class="o">=</span> <span class="n">EurtrophicationCrop</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
        <span class="p">)</span>

        <span class="n">eutrophication</span> <span class="o">=</span> <span class="n">eutrophication_crop_class</span><span class="o">.</span><span class="n">eutrophication_crops_dissagregated</span><span class="p">(</span>
            <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="n">air_quality_crop_class</span> <span class="o">=</span> <span class="n">AirQualityCrop</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
        <span class="p">)</span>

        <span class="n">air_quality</span> <span class="o">=</span> <span class="n">air_quality_crop_class</span><span class="o">.</span><span class="n">air_quality_crops_dissagregated</span><span class="p">(</span>
            <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change</span><span class="p">,</span> <span class="s2">&quot;climate_change_crops_disaggregated&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">eutrophication</span><span class="p">,</span> <span class="s2">&quot;eutrophication_crops_disaggregated&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">air_quality</span><span class="p">,</span> <span class="s2">&quot;air_quality_crops_disaggregated&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_aggregated_crop_footprint"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_aggregated_crop_footprint">[docs]</a>    <span class="k">def</span> <span class="nf">generate_aggregated_crop_footprint</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate aggregated crop footprints for climate change.</span>

<span class="sd">        This method calculates and generates aggregated crop footprints for climate change based on the provided crop_dataframe</span>
<span class="sd">        and scenario_dataframe. The footprints for the baseline are computed using default urea and urea abated values, as well as the AR value (AR4, AR5)</span>
<span class="sd">        specified in the class instance.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        crop_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing crop production data.</span>

<span class="sd">        scenario_dataframe : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing scenario parameters.</span>

<span class="sd">        default_urea : float</span>
<span class="sd">            The default proportion of urea used in crop production.</span>

<span class="sd">        default_urea_abated : float</span>
<span class="sd">            The default proportion of urea abated in crop production.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the ClimateChangeCrop class to calculate and generate the crop footprints for climate change. The</span>
<span class="sd">        class is instantiated with the appropriate parameters (ef_country, default_urea, default_urea_abated, and AR_VALUE) to</span>
<span class="sd">        perform the necessary calculations.</span>

<span class="sd">        Two types of aggregated footprints are generated: climate_change_categories_as_co2e and climate_change_crops_aggregated.</span>
<span class="sd">        The climate_change_categories_as_co2e represents the footprints for each category of climate change gas (converted to CO2e),</span>
<span class="sd">        and climate_change_crops_aggregated represents the overall aggregated footprint for all climate change gases.</span>

<span class="sd">        The calculated aggregated crop footprints for climate change are saved as datatables using the `save_goblin_results_output_datatable`</span>
<span class="sd">        method from the DataManager class. The footprints for individual categories of climate change gases are saved with the name</span>
<span class="sd">        &quot;climate_change_crops_categories_as_co2e&quot;, and the overall aggregated footprint is saved with the name &quot;climate_change_crops_aggregated&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be available within</span>
<span class="sd">        the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">AR_VALUE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AR_VALUE</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>

        <span class="n">climate_change_crop_class</span> <span class="o">=</span> <span class="n">ClimateChangeCrop</span><span class="p">(</span>
            <span class="n">ef_country</span><span class="p">,</span> <span class="n">default_urea</span><span class="p">,</span> <span class="n">default_urea_abated</span><span class="p">,</span> <span class="n">AR_VALUE</span>
        <span class="p">)</span>

        <span class="n">climate_change_categories_as_co2e</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">climate_change_crop_class</span><span class="o">.</span><span class="n">climate_change_crops_categories_as_co2e</span><span class="p">(</span>
                <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">climate_change_crops_aggregated</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">climate_change_crop_class</span><span class="o">.</span><span class="n">climate_change_crops_aggregated</span><span class="p">(</span>
                <span class="n">crop_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change_categories_as_co2e</span><span class="p">,</span> <span class="s2">&quot;climate_change_crops_categories_as_co2e&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change_crops_aggregated</span><span class="p">,</span> <span class="s2">&quot;climate_change_crops_aggregated&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_landuse_footprint"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_landuse_footprint">[docs]</a>    <span class="k">def</span> <span class="nf">generate_landuse_footprint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">landuse_data</span><span class="p">,</span> <span class="n">transition_matrix</span><span class="p">,</span> <span class="n">forest_data</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate land-use footprints for climate change.</span>

<span class="sd">        This method calculates and generates land-use (forest, grassland, wetland, cropland) footprints for climate change based on the provided landuse_data,</span>
<span class="sd">        transition_matrix, and forest_data. The footprints are computed using the AR value (AR4, AR5) specified in the class instance.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        landuse_data : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing land-use data.</span>

<span class="sd">        transition_matrix : pandas.DataFrame</span>
<span class="sd">            A pandas DataFrame containing the transition matrix for land-use changes.</span>

<span class="sd">        forest_data : pandas.Series</span>
<span class="sd">            A pandas Series containing forest carbon data.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        The method utilizes the ClimateChangeLandUse class to calculate and generate the land-use footprints for climate change.</span>
<span class="sd">        The class is instantiated with the appropriate parameters (calibration_year, target_year, transition_matrix, landuse_data,</span>
<span class="sd">        forest_data, ef_country, and AR_VALUE) to perform the necessary calculations.</span>

<span class="sd">        The calculated land-use footprints for climate change are saved as a datatable using the `save_goblin_results_output_datatable`</span>
<span class="sd">        method from the DataManager class. The datatable is saved with the name &quot;climate_change_landuse&quot;.</span>

<span class="sd">        The attributes and methods referenced in this documentation are class attributes and methods and should be available within</span>
<span class="sd">        the class instance when this method is called.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">AR_VALUE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AR_VALUE</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>
        <span class="n">calibration_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">climate_change_landuse_class</span> <span class="o">=</span> <span class="n">ClimateChangeLandUse</span><span class="p">(</span>
            <span class="n">calibration_year</span><span class="p">,</span>
            <span class="n">target_year</span><span class="p">,</span>
            <span class="n">transition_matrix</span><span class="p">,</span>
            <span class="n">landuse_data</span><span class="p">,</span>
            <span class="n">forest_data</span><span class="p">,</span>
            <span class="n">ef_country</span><span class="p">,</span>
            <span class="n">AR_VALUE</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">climate_change</span> <span class="o">=</span> <span class="n">climate_change_landuse_class</span><span class="o">.</span><span class="n">climate_change_landuse</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change</span><span class="p">,</span> <span class="s2">&quot;climate_change_landuse&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_livestock_footprint"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_livestock_footprint">[docs]</a>    <span class="k">def</span> <span class="nf">generate_livestock_footprint</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">baseline_animal_data</span><span class="p">,</span>
        <span class="n">scenario_animal_data</span><span class="p">,</span>
        <span class="n">farm_inputs_baseline</span><span class="p">,</span>
        <span class="n">farm_inputs_scenario</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the environmental footprints associated with livestock production for both the baseline and scenario datasets.</span>

<span class="sd">        This method estimates the climate change, eutrophication, and air quality impacts of livestock production. It utilizes data from both the baseline and scenario animal datasets, along with farm (fertilizer) inputs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        baseline_animal_data : DataFrame</span>
<span class="sd">            A DataFrame containing baseline animal data.</span>
<span class="sd">        scenario_animal_data : DataFrame</span>
<span class="sd">            A DataFrame containing scenario-specific animal data.</span>
<span class="sd">        farm_inputs_baseline : DataFrame</span>
<span class="sd">            A DataFrame containing farm inputs (fertilizers) for the baseline scenario.</span>
<span class="sd">        farm_inputs_scenario : DataFrame</span>
<span class="sd">            A DataFrame containing farm inputs (fertilizers) for the specific scenario.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">            The method does not return any value. The results are saved to output data tables for further analysis.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        - This method relies on the `AR_VALUE` (AR4, AR5) and `ef_country` attributes to calculate the environmental impacts, which should be set appropriately before calling this method.</span>

<span class="sd">        - The method utilizes the following classes for calculating impacts:</span>
<span class="sd">            - `ClimateChangeLivestock`: For climate change-related impacts.</span>
<span class="sd">            - `EutrophicationLivestock`: For eutrophication-related impacts.</span>
<span class="sd">            - `AirQualityLivestock`: For air quality-related impacts.</span>

<span class="sd">        - The calculated environmental footprints are not returned directly but are saved to the output data tables using the `save_goblin_results_output_datatable` method.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        ClimateChangeLivestock : Class for calculating climate change impacts of livestock production.</span>
<span class="sd">        EutrophicationLivestock : Class for calculating eutrophication impacts of livestock production.</span>
<span class="sd">        AirQualityLivestock : Class for calculating air quality impacts of livestock production.</span>
<span class="sd">        save_goblin_results_output_datatable : Method to save data to output data tables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">AR_VALUE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AR_VALUE</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>

        <span class="n">climate_change_livestock_class</span> <span class="o">=</span> <span class="n">ClimateChangeLivestock</span><span class="p">(</span><span class="n">ef_country</span><span class="p">,</span> <span class="n">AR_VALUE</span><span class="p">)</span>

        <span class="n">climate_change</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">climate_change_livestock_class</span><span class="o">.</span><span class="n">climate_change_livestock_dissagregated</span><span class="p">(</span>
                <span class="n">baseline_animal_data</span><span class="p">,</span>
                <span class="n">scenario_animal_data</span><span class="p">,</span>
                <span class="n">farm_inputs_baseline</span><span class="p">,</span>
                <span class="n">farm_inputs_scenario</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">eutrophication_livestock_class</span> <span class="o">=</span> <span class="n">EutrophicationLivestock</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

        <span class="n">eutrophication</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">eutrophication_livestock_class</span><span class="o">.</span><span class="n">eutrophication_livestock_dissagregated</span><span class="p">(</span>
                <span class="n">baseline_animal_data</span><span class="p">,</span>
                <span class="n">scenario_animal_data</span><span class="p">,</span>
                <span class="n">farm_inputs_baseline</span><span class="p">,</span>
                <span class="n">farm_inputs_scenario</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="n">air_quality_livestock_class</span> <span class="o">=</span> <span class="n">AirQualityLivestock</span><span class="p">(</span><span class="n">ef_country</span><span class="p">)</span>

        <span class="n">air_quality</span> <span class="o">=</span> <span class="n">air_quality_livestock_class</span><span class="o">.</span><span class="n">air_quality_livestock_dissagregated</span><span class="p">(</span>
            <span class="n">baseline_animal_data</span><span class="p">,</span>
            <span class="n">scenario_animal_data</span><span class="p">,</span>
            <span class="n">farm_inputs_baseline</span><span class="p">,</span>
            <span class="n">farm_inputs_scenario</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change</span><span class="p">,</span> <span class="s2">&quot;climate_change_livestock_disaggregated&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">eutrophication</span><span class="p">,</span> <span class="s2">&quot;eutrophication_livestock_disaggregated&quot;</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">air_quality</span><span class="p">,</span> <span class="s2">&quot;air_quality_livestock_disaggregated&quot;</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_aggregated_livestock_footprint"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_aggregated_livestock_footprint">[docs]</a>    <span class="k">def</span> <span class="nf">generate_aggregated_livestock_footprint</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">baseline_animal_data</span><span class="p">,</span>
        <span class="n">scenario_animal_data</span><span class="p">,</span>
        <span class="n">farm_inputs_baseline</span><span class="p">,</span>
        <span class="n">farm_inputs_scenario</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the aggregated environmental footprints associated with livestock production for both the baseline and scenario datasets.</span>

<span class="sd">        This method estimates the aggregated climate change impacts of livestock production at the national level. It utilizes data from both the baseline and scenario animal datasets, along with farm (fertilizer) inputs.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        baseline_animal_data : DataFrame</span>
<span class="sd">            A DataFrame containing baseline animal data.</span>
<span class="sd">        scenario_animal_data : DataFrame</span>
<span class="sd">            A DataFrame containing scenario-specific animal data.</span>
<span class="sd">        farm_inputs_baseline : DataFrame</span>
<span class="sd">            A DataFrame containing farm inputs (fertilizers) for the baseline scenario.</span>
<span class="sd">        farm_inputs_scenario : DataFrame</span>
<span class="sd">            A DataFrame containing farm inputs (fertilizers) for the specific scenario.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">            The method does not return any value. The aggregated results are saved to output data tables for further analysis.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        - This method relies on the `AR_VALUE` and `ef_country` attributes to calculate the environmental impacts, which should be set appropriately before calling this method.</span>

<span class="sd">        - The method utilizes the `ClimateChangeLivestock` class for calculating the climate change impacts of livestock production.</span>

<span class="sd">        - The aggregated climate change impacts are not returned directly but are saved to the output data tables using the `save_goblin_results_output_datatable` method.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        ClimateChangeLivestock : Class for calculating climate change impacts of livestock production.</span>
<span class="sd">        save_goblin_results_output_datatable : Method to save data to output data tables.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">AR_VALUE</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">AR_VALUE</span>
        <span class="n">ef_country</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ef_country</span>

        <span class="n">climate_change_livestock_class</span> <span class="o">=</span> <span class="n">ClimateChangeLivestock</span><span class="p">(</span><span class="n">ef_country</span><span class="p">,</span> <span class="n">AR_VALUE</span><span class="p">)</span>

        <span class="n">climate_change_aggregated</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">climate_change_livestock_class</span><span class="o">.</span><span class="n">climate_change_livestock_aggregated</span><span class="p">(</span>
                <span class="n">baseline_animal_data</span><span class="p">,</span>
                <span class="n">scenario_animal_data</span><span class="p">,</span>
                <span class="n">farm_inputs_baseline</span><span class="p">,</span>
                <span class="n">farm_inputs_scenario</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">climate_change_categories_as_co2e</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">climate_change_livestock_class</span><span class="o">.</span><span class="n">climate_change_livestock_categories_as_co2e</span><span class="p">(</span>
                <span class="n">baseline_animal_data</span><span class="p">,</span>
                <span class="n">scenario_animal_data</span><span class="p">,</span>
                <span class="n">farm_inputs_baseline</span><span class="p">,</span>
                <span class="n">farm_inputs_scenario</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change_aggregated</span><span class="p">,</span> <span class="s2">&quot;climate_change_livestock_aggregated&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">climate_change_categories_as_co2e</span><span class="p">,</span>
            <span class="s2">&quot;climate_change_livestock_categories_as_co2e&quot;</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_afforestation_data"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_afforestation_data">[docs]</a>    <span class="k">def</span> <span class="nf">generate_afforestation_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transition_matrix</span><span class="p">,</span> <span class="n">scenario_dataframe</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate afforestation data based on the given transition matrix and scenario data.</span>

<span class="sd">        This method calculates and generates afforestation data using the provided transition matrix and scenario data. Afforestation refers to the process of converting non-forest land into forested areas.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        transition_matrix : DataFrame</span>
<span class="sd">            A DataFrame representing the transition matrix, which describes the changes in land use from one category to another.</span>
<span class="sd">        scenario_dataframe : DataFrame</span>
<span class="sd">            A DataFrame containing scenario-specific data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        DataFrame</span>
<span class="sd">            A DataFrame containing the generated afforestation data.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        - The method utilizes the `Afforestation` class to generate afforestation data.</span>

<span class="sd">        - The generated afforestation data is saved to the output data table using the `save_goblin_results_output_datatable` method.</span>

<span class="sd">        - The `baseline_year` and `target_year` attributes are used in the process, and they should be set appropriately before calling this method.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        Afforestation : Class for generating afforestation data.</span>
<span class="sd">        save_goblin_results_output_datatable : Method to save data to output data tables.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">baseline_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">target_year</span>

        <span class="n">afforestation_class</span> <span class="o">=</span> <span class="n">Afforestation</span><span class="p">(</span>
            <span class="n">baseline_year</span><span class="p">,</span> <span class="n">target_year</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
        <span class="p">)</span>

        <span class="n">afforestation_data</span> <span class="o">=</span> <span class="n">afforestation_class</span><span class="o">.</span><span class="n">gen_cbm_afforestation_dataframe</span><span class="p">(</span>
            <span class="n">transition_matrix</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">afforestation_data</span><span class="p">,</span> <span class="s2">&quot;cbm_afforestation_data&quot;</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">afforestation_data</span></div>

<div class="viewcode-block" id="ScenarioRunner.generate_forest_carbon"><a class="viewcode-back" href="../../autoapi/goblin_lite/goblin/index.html#goblin_lite.goblin.ScenarioRunner.generate_forest_carbon">[docs]</a>    <span class="k">def</span> <span class="nf">generate_forest_carbon</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">afforest_year</span><span class="p">,</span> <span class="n">afforestation_dataframe</span><span class="p">,</span> <span class="n">scenario_dataframe</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generate forest carbon data based on afforestation and scenario data.</span>

<span class="sd">        This method calculates and generates forest carbon data by running the Carbon Budget Model (CBM CFS3) using the provided afforestation data and scenario data.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        afforest_year : int</span>
<span class="sd">            The target year for afforestation, representing the year when non-forest land is converted to forested areas.</span>
<span class="sd">        afforestation_dataframe : DataFrame</span>
<span class="sd">            A DataFrame containing the afforestation data, which represents the conversion of non-forest land to forested areas.</span>
<span class="sd">        scenario_dataframe : DataFrame</span>
<span class="sd">            A DataFrame containing scenario-specific data.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            A dictionary containing the generated forest carbon data, as pandas.DataFrame, including aggregated and annual flux results.</span>

<span class="sd">        Notes</span>
<span class="sd">        -----</span>
<span class="sd">        - The method utilizes the `Runner` class to run the CBM model and generate forest carbon data.</span>

<span class="sd">        - The CBM model requires the `cbm_configuration` attribute, which should be set appropriately before calling this method.</span>

<span class="sd">        - The generated forest carbon data, both aggregated and annual flux results, is saved to the output data tables using the `save_goblin_results_output_datatable` method.</span>

<span class="sd">        - The `calibration_year` and `target_year` attributes are used in the process, and they should be set appropriately before calling this method.</span>

<span class="sd">        See Also</span>
<span class="sd">        --------</span>
<span class="sd">        Runner : Class for running the Carbon Budget Model (CBM CFS3).</span>
<span class="sd">        save_goblin_results_output_datatable : Method to save data to output data tables.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">calibration_year</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">calibration_year</span>
        <span class="n">target_year</span> <span class="o">=</span> <span class="n">afforest_year</span>

        <span class="n">cbm_configuration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cbm_config_path</span>

        <span class="n">cbm_runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="p">(</span>
            <span class="n">cbm_configuration</span><span class="p">,</span>
            <span class="n">calibration_year</span><span class="p">,</span>
            <span class="n">target_year</span><span class="p">,</span>
            <span class="n">afforestation_dataframe</span><span class="p">,</span>
            <span class="n">scenario_dataframe</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="n">cbm_runner</span><span class="o">.</span><span class="n">generate_input_data</span><span class="p">()</span>

        <span class="c1"># generation of aggregated results</span>
        <span class="n">forest_aggregate</span> <span class="o">=</span> <span class="n">cbm_runner</span><span class="o">.</span><span class="n">run_aggregate_scenarios</span><span class="p">()</span>

        <span class="c1"># generation of annual flux results</span>
        <span class="n">forest_flux</span> <span class="o">=</span> <span class="n">cbm_runner</span><span class="o">.</span><span class="n">run_flux_scenarios</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">forest_aggregate</span><span class="p">,</span> <span class="s2">&quot;forest_carbon_aggregate&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_manager_class</span><span class="o">.</span><span class="n">save_goblin_results_output_datatable</span><span class="p">(</span>
            <span class="n">forest_flux</span><span class="p">,</span> <span class="s2">&quot;forest_carbon_flux&quot;</span>
        <span class="p">)</span>

        <span class="n">forest_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;forest_flux&quot;</span><span class="p">:</span> <span class="n">forest_flux</span><span class="p">,</span> <span class="s2">&quot;forest_aggregate&quot;</span><span class="p">:</span> <span class="n">forest_aggregate</span><span class="p">}</span>

        <span class="k">return</span> <span class="n">forest_data</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Colm Duffy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>